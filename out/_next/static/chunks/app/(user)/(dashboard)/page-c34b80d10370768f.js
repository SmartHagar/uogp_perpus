(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3655],{935:function(e,t,a){Promise.resolve().then(a.bind(a,2865))},2865:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return page}});var n=a(7437),l=a(2265),r=a(4033),c=a(8349),o=a(8278);a(8020),a(9194),a(2208);var s=a(8875),i=a(1396),d=a.n(i),_dashboard_SlideCover=e=>{let{delay:t=2500,slidesPerView:a=5,katalogData:r}=e,i=(0,l.useRef)(null),playContinue=()=>{i.current&&i.current.swiper.autoplay&&setTimeout(()=>{var e,t,a;null===(a=i.current)||void 0===a||null===(t=a.swiper)||void 0===t||null===(e=t.autoplay)||void 0===e||e.start()},1e3)};return(null==r?void 0:r.length)>0&&(0,n.jsx)(o.tq,{ref:i,effect:"coverflow",spaceBetween:10,modules:[c.tl,c.pt,c.Rv,c.lI],loop:!0,grabCursor:!0,centeredSlides:!0,slidesPerView:a,coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},autoplay:{delay:t,pauseOnMouseEnter:!0},pagination:{clickable:!0,dynamicBullets:!0},onPaginationRender:e=>{playContinue()},onSwiper:e=>console.log(e),onSlideChange:()=>{},children:r.map((e,t)=>{let a=e.judul.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"");return(0,n.jsx)(o.o5,{className:"h-full",children:(0,n.jsx)(d(),{href:"/katalog/detail?katalog_id=".concat(null==e?void 0:e.id,"&judul=").concat(a),target:"_blank",children:(0,n.jsx)("div",{className:"rounded-xl",style:{width:"100%",height:"100%",backgroundImage:"url(".concat(s._n,"/").concat(e.cover,")"),backgroundSize:"cover",backgroundPosition:"center"},children:(0,n.jsxs)("div",{className:"hvTopDown bg-neutral-content/[0.3] after:rounded-xl after:bg-primary-content/60 after:backdrop-blur-sm h-full hover:text-base-content p-6 flex flex-col items-center justify-end gap-4 z-0",children:[(0,n.jsx)("h3",{className:"text-center font-bold lg:text-xl",children:e.judul}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-center text-sm lg:text-lg",children:e.penulis}),(0,n.jsx)("p",{className:"text-center text-sm lg:text-base",children:e.tahun})]})]})})})},t)})})},u=a(4970),page=e=>{(0,r.usePathname)();let[t,a]=(0,l.useState)(5),[c,o]=(0,l.useState)();return(0,l.useEffect)(()=>{let e=window.innerWidth;e<768&&a(2),e>768&&e<1024&&a(3),e>1024&&a(4),console.log({widthScreen:e})},[]),(0,l.useEffect)(()=>{window.scrollTo(0,0);let fetchData=async()=>{try{let e=await (0,u.Z)({page:1,limit:20,orderBy:"created_at",sort:"desc"});o(null==e?void 0:e.data)}catch(e){console.error("Failed to fetch data:",e)}};fetchData()},[]),(0,n.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,n.jsxs)("div",{className:"h-64 md:h-96 lg:h-[25rem] z-10 flex flex-col",children:[(0,n.jsx)("h4",{className:"text-xl font-bold text-secondary mb-2",children:"Koleksi Terbaru"}),(0,n.jsx)(_dashboard_SlideCover,{slidesPerView:t,katalogData:c})]}),(0,n.jsx)("div",{className:"h-64 md:h-96 lg:h-[25rem] z-10 mb-2 flex flex-col",children:(0,n.jsx)("h4",{className:"text-xl font-bold text-secondary",children:"Koleksi Populer"})})]})}},4970:function(e,t,a){"use strict";a.d(t,{W:function(){return getKatalogAll},Z:function(){return getKatalog}});var n=a(8875);async function getKatalog(e){let{search:t="",jenis:a="",page:l=1,limit:r=12,orderBy:c,sort:o}=e,s=await fetch("".concat(n._n,"/api/katalog?jenis=").concat(a,"&search=").concat(t,"&page=").concat(l,"&limit=").concat(r,"&orderBy=").concat(c,"&sort=").concat(o),{next:{revalidate:1e3}});if(!s.ok)throw Error("Failed to fetch data");let{data:i}=await s.json();return i}async function getKatalogAll(e){let{search:t=""}=e,a=await fetch("".concat(n._n,"/api/katalog/all?search=").concat(t),{next:{revalidate:1e3}});if(!a.ok)throw Error("Failed to fetch data");let{data:l}=await a.json();return l}},8875:function(e,t,a){"use strict";a.d(t,{I8:function(){return r},Sj:function(){return c},_n:function(){return l},hi:function(){return o}});var n=a(2173);let l="https://back-perpus.fstuogp.com",r=n.Z.create({baseURL:"".concat(l,"/auth")}),c=n.Z.create({baseURL:"".concat(l,"/crud")}),o=n.Z.create({baseURL:"".concat(l,"/api")});n.Z.create({baseURL:"".concat(l,"/storage")})}},function(e){e.O(0,[5580,1396,3026,2971,2472,1744],function(){return e(e.s=935)}),_N_E=e.O()}]);