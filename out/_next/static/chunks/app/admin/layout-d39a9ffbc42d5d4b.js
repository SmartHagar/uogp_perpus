(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9091],{17:function(e,t,n){Promise.resolve().then(n.bind(n,8399))},6304:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return s}});let r=n(1024),a=r._(n(2265)),s=a.default.createContext(null)},8399:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return layout}});var r=n(7437),a=n(2265),s=n(4606);let i=[{name:"Dashboard",href:"/admin/dashboard",icon:(0,r.jsx)(s.ufG,{})},{name:"Class",href:"#",slug:"kelas",icon:(0,r.jsx)(s.fFq,{}),subMenus:[{name:"Umum",href:"/admin/kelas/umum"},{name:"Sub",href:"/admin/kelas/sub"}]},{name:"Katalog",href:"#",slug:"katalog",icon:(0,r.jsx)(s.fFq,{}),subMenus:[{name:"Buku",href:"/admin/katalog?jenis=buku"},{name:"Jurnal",href:"/admin/katalog?jenis=jurnal"},{name:"Tugas Akhir",href:"/admin/katalog?jenis=tugas akhir"}]},{name:"Anggota",href:"/admin/anggota",icon:(0,r.jsx)(s.Zzc,{})},{name:"Transaksi",href:"#",slug:"transaksi",icon:(0,r.jsx)(s.fFq,{}),subMenus:[{name:"Peminjaman",href:"/admin/transaksi?status=peminjaman"},{name:"Pengembalian",href:"/admin/transaksi?status=pengembalian"}]},{name:"Laporan",href:"#",slug:"laporan",icon:(0,r.jsx)(s.fFq,{}),subMenus:[{name:"Katalog",href:"/admin/laporan/katalog"},{name:"Anggota",href:"/admin/laporan/anggota"}]}];var o=n(1396),l=n.n(o),c=n(4033);let SubSide=e=>{let{index:t,menus:n,name:a,slug:s,href:i}=e,o=(0,c.usePathname)();console.log({pathname:o});let u=o.includes(s);return(0,r.jsx)("li",{children:(0,r.jsxs)("details",{open:u,children:[(0,r.jsx)("summary",{children:a}),(0,r.jsx)("ul",{children:n.map((e,t)=>(null==e?void 0:e.subMenus)?(0,r.jsx)(SubSide,{menus:e.subMenus,name:e.name,index:t,slug:e.slug,href:e.href},t):(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:e.href,children:e.name})},t))})]})},t)};var u=n(1490),d=n(8528),sidebar_Sidebar=()=>{let e=(0,c.usePathname)(),t=(0,c.useRouter)(),[n,s]=(0,a.useState)(!1),handleSingout=async()=>{s(!0),u.Z.remove("token"),u.Z.remove("role"),u.Z.remove("dosen_id"),t.push("/"),s(!1)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("ul",{className:"menu w-56 h-full overflow-auto",children:i.map((t,n)=>(null==t?void 0:t.subMenus)?(0,r.jsx)(SubSide,{menus:t.subMenus,name:t.name,index:n,slug:t.slug,href:t.href},n):(0,r.jsx)("li",{className:e===t.href?"bg-neutral rounded-lg":"",children:(0,r.jsx)(l(),{href:t.href,children:t.name})},n))}),(0,r.jsx)("div",{className:"text-white absolute bottom-0 left-0 w-56 flex justify-center",children:(0,r.jsx)(d.Z,{onClick:handleSingout,children:n?"Logout...":"Logout"})})]})};let m=(0,a.createContext)({temaDefault:"",setTemaDefault:()=>""}),useThemeContext=()=>(0,a.useContext)(m);var support_ThemeChange=e=>{let{temaDefault:t,setTemaDefault:n}=useThemeContext(),s=(0,a.useRef)(null);return(0,a.useEffect)(()=>("dark"===t&&(s.current.checked=!1),"light"===t&&(s.current.checked=!0),()=>{}),[]),t&&(0,r.jsxs)("label",{className:"swap swap-rotate",children:[(0,r.jsx)("input",{type:"checkbox",onChange:e=>{let t=e.target.checked;t?n("light"):n("dark")},ref:s}),(0,r.jsx)("svg",{className:"swap-on fill-current w-6 h-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"})}),(0,r.jsx)("svg",{className:"swap-off fill-current w-6 h-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"})})]})},h=n(5967),f=n(5991),layout=e=>{let[t,n]=(0,a.useState)(!0),s=(0,c.usePathname)(),i=(0,c.useRouter)(),{cekToken:o}=(0,h.Z)(),getCek=async()=>{let e=await o();if(null==e?void 0:e.error)i.push("/login");else{let e=u.Z.get("role");"admin"!==e&&i.push("/".concat(e))}return e};(0,a.useEffect)(()=>(getCek(),()=>{}),[s]);let loadData=async()=>{let e=await getCek();console.log({cek:e}),(null==e?void 0:e.error)||n(!1)};return((0,a.useEffect)(()=>(loadData(),console.log("pertama render"),()=>{}),[]),t)?(0,r.jsx)("div",{className:"flex min-h-screen h-screen justify-center items-center",children:(0,r.jsx)(f.Z,{})}):(0,r.jsxs)("div",{className:"h-screen w-screen flex flex-col bg-base-100",children:[(0,r.jsxs)("div",{className:"flex h-16 w-full items-center justify-between",children:[(0,r.jsx)("div",{className:"w-56",children:(0,r.jsx)("h3",{className:"text-center",children:"Menu"})}),(0,r.jsx)("div",{children:"Selamat Datang"}),(0,r.jsx)("div",{className:"w-10",children:(0,r.jsx)(support_ThemeChange,{})})]}),(0,r.jsxs)("div",{className:"flex w-screen h-full overflow-hidden",children:[(0,r.jsx)("div",{children:(0,r.jsx)(sidebar_Sidebar,{})}),(0,r.jsx)("div",{className:"w-full h-full bg-bg-perpus-1 bg-cover  overflow-auto",children:(0,r.jsx)("div",{className:"w-full h-full bg-white/[0.2] backdrop-blur text-accent-content rounded-xl pt-6 px-6",children:e.children})})]})]})}},8528:function(e,t,n){"use strict";var r=n(7437);n(2265),t.Z=e=>{let{onClick:t,addClass:n,children:a,type:s}=e;return(0,r.jsx)("button",{onClick:t,type:s,className:"btn btn-active ".concat(n),children:a})}},5991:function(e,t,n){"use strict";var r=n(7437);n(2265),t.Z=e=>(0,r.jsx)("span",{className:"loading loading-spinner loading-lg"})},8875:function(e,t,n){"use strict";n.d(t,{I8:function(){return s},Sj:function(){return i},_n:function(){return a},hi:function(){return o}});var r=n(2173);let a="https://perpus.thina.my.id",s=r.Z.create({baseURL:"".concat(a,"/auth")}),i=r.Z.create({baseURL:"".concat(a,"/crud")}),o=r.Z.create({baseURL:"".concat(a,"/api")});r.Z.create({baseURL:"".concat(a,"/storage")})},5967:function(e,t,n){"use strict";var r=n(4660),a=n(4810),s=n(8875),i=n(1490);let o=(0,r.Ue)((0,a.mW)((e,t)=>({setToken:async()=>{let e=i.Z.get("token");return e},setLogin:async e=>{try{let t=await (0,s.I8)({method:"post",url:"/login",data:e});return{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}},cekToken:async()=>{let e=await t().setToken();try{let t=await (0,s.I8)({method:"post",url:"/cek-token",headers:{Authorization:"Bearer ".concat(e)}});return{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}}})));t.Z=o},4033:function(e,t,n){e.exports=n(94)},1172:function(e,t,n){"use strict";n.d(t,{w_:function(){return GenIcon}});var r=n(2265),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=r.createContext&&r.createContext(a),__assign=function(){return(__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},__rest=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function Tree2Element(e){return e&&e.map(function(e,t){return r.createElement(e.tag,__assign({key:t},e.attr),Tree2Element(e.child))})}function GenIcon(e){return function(t){return r.createElement(IconBase,__assign({attr:__assign({},e.attr)},t),Tree2Element(e.child))}}function IconBase(e){var elem=function(t){var n,a=e.attr,s=e.size,i=e.title,o=__rest(e,["attr","size","title"]),l=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",__assign({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,o,{className:n,style:__assign(__assign({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&r.createElement("title",null,i),e.children)};return void 0!==s?r.createElement(s.Consumer,null,function(e){return elem(e)}):elem(a)}},1490:function(e,t,n){"use strict";/*! js-cookie v3.0.5 | MIT */function assign(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function init(e,t){function set(n,r,a){if("undefined"!=typeof document){"number"==typeof(a=assign({},t,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var i in a)a[i]&&(s+="; "+i,!0!==a[i]&&(s+="="+a[i].split(";")[0]));return document.cookie=n+"="+e.write(r,n)+s}}return Object.create({set,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],r={},a=0;a<n.length;a++){var s=n[a].split("="),i=s.slice(1).join("=");try{var o=decodeURIComponent(s[0]);if(r[o]=e.read(i,o),t===o)break}catch(e){}}return t?r[t]:r}},remove:function(e,t){set(e,"",assign({},t,{expires:-1}))},withAttributes:function(e){return init(this.converter,assign({},this.attributes,e))},withConverter:function(e){return init(assign({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}n.d(t,{Z:function(){return r}});var r=init({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[8447,5580,5166,1396,2971,2472,1744],function(){return e(e.s=17)}),_N_E=e.O()}]);